{"openapi":"3.0.0","paths":{"/health/ping":{"get":{"operationId":"HealthController_getPing","parameters":[],"responses":{"200":{"description":"Health status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponseDto"}}}}},"tags":["health"]}},"/categories":{"post":{"operationId":"CategoriesController_createCategory","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":"Created new category","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}}},"tags":["categories"]},"get":{"operationId":"CategoriesController_getAllCategories","parameters":[],"responses":{"200":{"description":"Get all categories","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategorySchema"}}}}}},"tags":["categories"]}},"/categories/{id}":{"get":{"operationId":"CategoriesController_getCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get category by ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategorySchema"}}}},"404":{"description":"Category not found"}},"tags":["categories"]},"put":{"operationId":"CategoriesController_updateCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":"Update category","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"404":{"description":"Category not found"}},"tags":["categories"]},"delete":{"operationId":"CategoriesController_deleteCategory","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"204":{"description":"Deleted category"},"404":{"description":"Category not found"}},"tags":["categories"]}},"/categories/rank":{"patch":{"operationId":"CategoriesController_updateRank","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RankDto"}}}},"responses":{"204":{"description":"Change category rank"}},"tags":["categories"]}},"/addons":{"post":{"operationId":"AddonsController_createAddon","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddonDto"}}}},"responses":{"201":{"description":"Created addon","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddonDto"}}}}},"tags":["addons"]},"get":{"operationId":"AddonsController_getAllAddons","parameters":[],"responses":{"200":{"description":"Get all addons","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AddonSchema"}}}}}},"tags":["addons"]}},"/addons/{id}":{"get":{"operationId":"AddonsController_getAddon","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get addon by Id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddonSchema"}}}},"404":{"description":"Addon not found"}},"tags":["addons"]},"put":{"operationId":"AddonsController_updateAddon","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddonDto"}}}},"responses":{"200":{"description":"Updated addon","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddonDto"}}}},"404":{"description":"Addon not found"}},"tags":["addons"]},"delete":{"operationId":"AddonsController_deleteAddon","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"204":{"description":"Deleted addon"},"404":{"description":"Addon not found"}},"tags":["addons"]}},"/menus":{"get":{"operationId":"MenusController_getMenus","parameters":[{"name":"status","required":true,"in":"query","schema":{"enum":["published","draft","all"],"type":"string"}}],"responses":{"200":{"description":"Get all menus","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetAllMenuResponseDto"}}}}}},"tags":["menus"]},"post":{"operationId":"MenusController_createMenu","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMenuDto"}}}},"responses":{"201":{"description":"The menu has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuSchema"}}}}},"tags":["menus"]},"delete":{"operationId":"MenusController_removeMenus","parameters":[{"name":"ids","required":true,"in":"query","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"The menus have been successfully deleted."},"204":{"description":"No menu found"}},"tags":["menus"]}},"/menus/{id}":{"get":{"operationId":"MenusController_getMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get menu by id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetMenuByIdResponseDto"}}}},"404":{"description":"No menu found"}},"tags":["menus"]},"put":{"operationId":"MenusController_updateMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMenuDto"}}}},"responses":{"200":{"description":"The menu has been successfully updated."},"404":{"description":"No menu found"}},"tags":["menus"]},"delete":{"operationId":"MenusController_removeMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The menu has been successfully deleted."},"204":{"description":"No menu found"}},"tags":["menus"]}},"/menus/{id}/publish":{"patch":{"operationId":"MenusController_publishMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The menu has been successfully published."},"404":{"description":"No menu found"}},"tags":["menus"]}},"/menus/{id}/unpublish":{"patch":{"operationId":"MenusController_unpublishMenuById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"The menu has been successfully unpublished."},"404":{"description":"No menu found"}},"tags":["menus"]}},"/orders":{"post":{"operationId":"OrdersController_createOrder","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderDto"}}}},"responses":{"201":{"description":"Create order"}},"tags":["orders"]},"get":{"operationId":"OrdersController_getOrders","parameters":[],"responses":{"200":{"description":"Get all orders","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderGetDto"}}}}}},"tags":["orders"]}},"/orders/{id}/preparing":{"patch":{"operationId":"OrdersController_preparing","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":"Set order status to preparing"}},"tags":["orders"]}},"/orders/{id}/ready_to_serve":{"patch":{"operationId":"OrdersController_readyToServe","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":"Set order status to ready to serve"}},"tags":["orders"]}},"/orders/{id}/done":{"patch":{"operationId":"OrdersController_done","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":"Set order status to done"}},"tags":["orders"]}},"/orders/{id}/cancel":{"patch":{"operationId":"OrdersController_cancel","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":"Cancel order"}},"tags":["orders"]}},"/sessions":{"get":{"operationId":"SessionController_getSessions","parameters":[{"name":"finished","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Sessions list","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionSchema"}}}}}},"tags":["sessions"]},"post":{"operationId":"SessionController_createSession","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSessionDto"}}}},"responses":{"201":{"description":"Session created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionSchema"}}}}},"tags":["sessions"]}},"/sessions/{id}":{"get":{"operationId":"SessionController_getSession","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectID)","schema":{"type":"string"}}],"responses":{"200":{"description":"Session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionSchema"}}}}},"tags":["sessions"]},"delete":{"operationId":"SessionController_deleteSession","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":"Session deleted"},"404":{"description":"Session not found"}},"tags":["sessions"]}},"/sessions/table/{id}":{"get":{"operationId":"SessionController_getSessionByTable","parameters":[{"name":"id","required":true,"in":"path","description":"Table ID","schema":{"type":"number"}}],"responses":{"200":{"description":"Session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionSchema"}}}},"404":{"description":"No session found in the table"}},"tags":["sessions"]}},"/sessions/{id}/finish":{"patch":{"operationId":"SessionController_finishSession","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":"Session finished"},"404":{"description":"Session not found"}},"tags":["sessions"]}},"/sessions/{id}/orders":{"get":{"operationId":"SessionController_getOrdersBySession","parameters":[{"name":"id","required":true,"in":"path","description":"Session ID (ObjectId)","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrdersListDto"}}}}},"tags":["sessions"]}},"/tables":{"post":{"operationId":"TablesController_createTable","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TablesDto"}}}},"responses":{"201":{"description":"Create table"}},"tags":["tables"]},"get":{"operationId":"TablesController_getTables","parameters":[],"responses":{"200":{"description":"Get tables","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TablesSchema"}}}}}},"tags":["tables"]}},"/auth/login":{"post":{"operationId":"AuthController_signIn","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"204":{"description":""}},"tags":["auth"]}},"/auth/logout":{"post":{"operationId":"AuthController_signOut","parameters":[],"responses":{"204":{"description":""}},"tags":["auth"]}},"/users":{"post":{"operationId":"UsersController_createUser","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"Create user"}},"tags":["users"]},"get":{"operationId":"UsersController_getUsers","parameters":[{"name":"role","required":false,"in":"query","description":"User role","schema":{"type":"string"}}],"responses":{"200":{"description":"Get users by roles","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserSchema"}}}}}},"tags":["users"]},"delete":{"operationId":"UsersController_deleteUser","parameters":[{"name":"id","required":true,"in":"query","description":"User id (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":""}},"tags":["users"]}},"/users/reset_password":{"post":{"operationId":"UsersController_updateUser","parameters":[{"name":"id","required":true,"in":"query","description":"User id (ObjectId)","schema":{"type":"string"}}],"responses":{"204":{"description":""}},"tags":["users"]}},"/coupons":{"post":{"operationId":"CouponsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCouponDto"}}}},"responses":{"201":{"description":"Coupon created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCouponDto"}}}}},"tags":["coupons"]},"get":{"operationId":"CouponsController_findAll","parameters":[],"responses":{"200":{"description":"Get all coupons","content":{"application/json":{"schema":{"$ref":"#/components/schemas/"}}}}},"tags":["coupons"]}},"/coupons/{id}":{"get":{"operationId":"CouponsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get all coupons","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCouponDto"}}}}},"tags":["coupons"]},"patch":{"operationId":"CouponsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCouponDto"}}}},"responses":{"200":{"description":"Coupon updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCouponDto"}}}}},"tags":["coupons"]},"delete":{"operationId":"CouponsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Coupon deleted"}},"tags":["coupons"]}}},"info":{"title":"MeeOrder","description":"The MeeOrder API description","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"HealthResponseDto":{"type":"object","properties":{"msg":{"type":"object"}},"required":["msg"]},"CreateCategoryDto":{"type":"object","properties":{"title":{"type":"string"}},"required":["title"]},"CategorySchema":{"type":"object","properties":{"_id":{"type":"string","description":"Category ID"},"title":{"type":"string"},"menus":{"type":"array","items":{"type":"string"}},"rank":{"type":"number"}},"required":["_id","title","menus","rank"]},"UpdateCategoryDto":{"type":"object","properties":{"title":{"type":"string"},"menus":{"type":"array","items":{"type":"string"}},"rank":{"type":"number"}},"required":["title","menus","rank"]},"RankDto":{"type":"object","properties":{"rank":{"type":"array","items":{"type":"string"}}},"required":["rank"]},"CreateAddonDto":{"type":"object","properties":{"title":{"type":"string"},"price":{"type":"number"}},"required":["title","price"]},"AddonSchema":{"type":"object","properties":{"_id":{"type":"string","description":"Addon ID"},"title":{"type":"string"},"price":{"type":"number"}},"required":["_id","title","price"]},"GetMenuByIdResponseDto":{"type":"object","properties":{"_id":{"type":"string","description":"Menu ID"},"image":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"category":{"type":"string"},"addons":{"type":"array","items":{"$ref":"#/components/schemas/AddonSchema"}},"published_at":{"format":"date-time","type":"string"},"deleted_at":{"format":"date-time","type":"string"}},"required":["_id","image","title","description","price","category","addons","published_at","deleted_at"]},"GetAllMenuResponseDto":{"type":"object","properties":{"category":{"$ref":"#/components/schemas/CategorySchema"},"menus":{"type":"array","items":{"$ref":"#/components/schemas/GetMenuByIdResponseDto"}}},"required":["category","menus"]},"CreateMenuDto":{"type":"object","properties":{"image":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"category":{"type":"string"},"addons":{"type":"array","items":{"type":"string"}}},"required":["image","title","description","price","category","addons"]},"MenuSchema":{"type":"object","properties":{"_id":{"type":"string","description":"Menu ID"},"image":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"price":{"type":"number"},"category":{"type":"string"},"addons":{"type":"array","items":{"type":"string"}},"published_at":{"format":"date-time","type":"string"},"deleted_at":{"format":"date-time","type":"string"}},"required":["_id","image","title","description","price","category","addons","published_at","deleted_at"]},"Orders":{"type":"object","properties":{"menu":{"type":"string","description":"menu is ObjectID"},"addons":{"description":"Array of ObjectID","type":"array","items":{"type":"string"}},"additional_info":{"type":"string"}},"required":["menu"]},"CreateOrderDto":{"type":"object","properties":{"session":{"type":"string","description":"session is ObjectID"},"orders":{"type":"array","items":{"$ref":"#/components/schemas/Orders"}}},"required":["session","orders"]},"SessionSchema":{"type":"object","properties":{"_id":{"type":"string","description":"Session ID"},"created_at":{"format":"date-time","type":"string","description":"Session creation date"},"finished_at":{"format":"date-time","type":"string","description":"Session finish date","nullable":true},"uid":{"type":"string","description":"User ID","nullable":true},"table":{"type":"number","description":"Table ID"}},"required":["_id","created_at","finished_at","uid","table"]},"OrderGetDto":{"type":"object","properties":{"_id":{"type":"string","description":"Orders ID"},"created_at":{"format":"date-time","type":"string"},"status":{"type":"string","enum":["IN_QUEUE","PREPARING","READY_TO_SERVE","DONE"]},"addons":{"description":"Array of MenuID","type":"array","items":{"type":"string"}},"additional_info":{"type":"string","description":"Additional info"},"cancelled_at":{"format":"date-time","type":"string","description":"for cancel status"},"session":{"$ref":"#/components/schemas/SessionSchema"},"menu":{"$ref":"#/components/schemas/MenuSchema"}},"required":["_id","created_at","status","addons","additional_info","cancelled_at","session","menu"]},"CreateSessionDto":{"type":"object","properties":{"uid":{"type":"string","description":"User ID"},"table":{"type":"number","description":"Table ID"}},"required":["table"]},"OrdersResponseDto":{"type":"object","properties":{"_id":{"type":"string","description":"Order ID (ObjectID)"},"created_at":{"format":"date-time","type":"string"},"status":{"type":"string","enum":["IN_QUEUE","PREPARING","READY_TO_SERVE","DONE"]},"session":{"description":"Session Schema","allOf":[{"$ref":"#/components/schemas/SessionSchema"}]},"menu":{"description":"Menu Schema","allOf":[{"$ref":"#/components/schemas/MenuSchema"}]},"addons":{"description":"Array of Addons Schema","type":"array","items":{"$ref":"#/components/schemas/AddonSchema"}},"additional_info":{"type":"string","description":"Additional info"},"cancelled_at":{"format":"date-time","type":"string","description":"for cancel status"}},"required":["_id","created_at","status","session","menu","addons","additional_info","cancelled_at"]},"OrdersListDto":{"type":"object","properties":{"table":{"type":"number","description":"table number"},"total_price":{"type":"number","description":"total price"},"discount_price":{"type":"number","description":"discount price"},"net_price":{"type":"number","description":"net price"},"orders":{"type":"array","items":{"$ref":"#/components/schemas/OrdersResponseDto"}}},"required":["table","total_price","discount_price","net_price","orders"]},"TablesDto":{"type":"object","properties":{"_id":{"type":"number"}},"required":["_id"]},"TablesSchema":{"type":"object","properties":{"_id":{"type":"number"}},"required":["_id"]},"LoginDto":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"required":["username","password"]},"CreateUserDto":{"type":"object","properties":{"username":{"type":"string","description":"username is string"},"password":{"type":"string","description":"password is string"},"role":{"type":"number","enum":[100,75,50,25,1],"example":["Owner","Chef","Cashier","Employee","Customer"],"description":"select role from enum UserRole example: Owner, Chef, Cashier, Employee, Customer"}},"required":["username","password","role"]},"UserSchema":{"type":"object","properties":{"_id":{"type":"string"},"username":{"type":"string"},"point":{"type":"number"},"role":{"type":"number","enum":[100,75,50,25,1]},"created_at":{"format":"date-time","type":"string","default":"2023-09-03T10:05:35.534Z"}},"required":["_id","username","point","role","created_at"]},"CreateCouponDto":{"type":"object","properties":{"title":{"type":"string","description":"Coupon Code"},"description":{"type":"string","description":"Coupon Description"},"required_menus":{"type":"array","items":{"type":"string"}},"price":{"type":"number","description":"Discount Price of Coupon"},"amount":{"type":"number","description":"Amount of Coupon"},"activated":{"type":"number","description":"Coupon status"},"required_point":{"type":"number","description":"Coupon Required Point"}},"required":["title","price","activated"]},"UpdateCouponDto":{"type":"object","properties":{"title":{"type":"string","description":"Coupon Code"},"description":{"type":"string","description":"Coupon Description"},"required_menus":{"type":"array","items":{"type":"string"}},"price":{"type":"number","description":"Discount Price of Coupon"},"amount":{"type":"number","description":"Amount of Coupon"},"activated":{"type":"number","description":"Coupon status"},"required_point":{"type":"number","description":"Coupon Required Point"}}}}}}